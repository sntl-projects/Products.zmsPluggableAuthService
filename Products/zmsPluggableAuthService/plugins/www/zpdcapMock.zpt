<html>
<head>
<title>Mock - ZMS PluggableAuthService Dangerous Cookie Auth Plugin</title>
	<link rel="stylesheet" type="text/css" href="/++resource++zmi/bootstrap-4.1.1/bootstrap.min.css" />
	<link rel="stylesheet" type="text/css" href="/++resource++zmi/fontawesome-free-5.8.1/css/all.css" />
	<link rel="stylesheet" type="text/css" href="/++resource++zmi/zmi_base.css" />
	<script src="/++resource++zmi/jquery-3.2.1.min.js"></script>
	<script src="/++resource++zmi/bootstrap-4.1.1/bootstrap.bundle.min.js"></script>
	<script src="/++resource++zmi/ace.ajax.org/ace.js"></script>
	<script src="/++resource++zmi/zmi_base.js"></script>

<link rel="shortcut icon" type="image/x-icon" href="/++resource++zmi/logo/favicon/favicon.ico" />
<link rel="apple-touch-icon" sizes="180x180" href="/++resource++zmi/logo/favicon/apple-touch-icon.png" />
<link rel="icon" type="image/png" sizes="32x32" href="/++resource++zmi/logo/favicon/favicon-32x32.png" />
<link rel="icon" type="image/png" sizes="16x16" href="/++resource++zmi/logo/favicon/favicon-16x16.png" />
<link rel="manifest" href="/++resource++zmi/logo/favicon/site.webmanifest" />
<link rel="mask-icon" href="/++resource++zmi/logo/favicon/safari-pinned-tab.svg" color="#5bbad5" />
<meta name="msapplication-config" content="/++resource++zmi/logo/favicon/browserconfig.xml"/>
<meta name="msapplication-TileColor" content="#2d89ef" />
<meta name="theme-color" content="#ffffff" />

</head>
<!-- REFACT what is a better way to get the last part of the current URL? -->
<body id="nodeid-tpas_dcap" class="zmi zmi-ZMS-PluggableAuthService-Dangerous-Cookie-Auth-Plugin zmi-manage_activateInterfacesForm">

<h2 tal:define="form_title string:Mock a ZMS PluggableAuthService Dangerous Cookie"
    tal:replace="structure here/manage_form_title">Form Title</h2>

<p class="form-help"> 
ZMS PluggableAuthService Dangerous Cookie Auth Plugin.
</p>

<form action="mockCookie" method="post" enctype="multipart/form-data" tal:define="
        cookie_value python:request.RESPONSE.cookies.get(here.cookie_name,None);
        d python:here.decryptCookie(cookie_value);
        default_value python:{'name': 'foo', 'roles': ['ZMSAuthor']}">
  <div class="form-group row">
    <label for="cookie_name" class="form-label col-sm-3 col-md-2">Cookie-Name</label>
    <div class="col-sm-9 col-md-10">
      <input class="form-control" type="text" name="cookie_name" size="40" disabled="disabled" tal:attributes="value python:here.cookie_name"/>
    </div>
  </div>
  <div class="form-group row">
    <label for="cookie_value" class="form-label col-sm-3 col-md-2">Cookie-Value</label>
    <div class="col-sm-9 col-md-10">
      <input class="form-control" type="text" name="cookie_value" size="40" disabled="disabled" tal:attributes="value cookie_value"/>
    </div>
  </div>
  <div class="form-group row">
    <label for="d" class="form-label col-sm-3 col-md-2">Dict</label>
    <div class="col-sm-9 col-md-10">
      <textarea class="form-control" name="d"><tal:block tal:condition="d" tal:content="d"></tal:block><tal:block tal:condition="not:d" tal:content="default_value"></tal:block></textarea>
    </div>
  </div>
  <div class="form-group row">
    <label class="form-label col-sm-3 col-md-2"></label>
    <div class="col-sm-9 col-md-10">
      <input class="form-element" type="submit" name="submit" value=" Apply " /> 
    </div>
  </div>
</form>

</body>
</html>
